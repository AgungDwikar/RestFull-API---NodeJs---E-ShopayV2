{"version":3,"sources":["../../server/controller/productController.js"],"names":["findAll","req","res","result","context","models","products","send","error","status","createProduct","files","fields","fileAttrb","create","prod_name","value","prod_price","prod_stock","parseInt","prod_desc","prod_cate_id","prod_rating","prod_views","prod_user_id","prod_url_image","file","newFilename","json","message","updateProduct","update","returning","where","prod_id","params","id"],"mappings":"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","sourcesContent":["import UpDownloadHelper from \"../middleware/UpDownloadHelper\";\r\n\r\nconst findAll = async (req, res) => {\r\n    try {\r\n        const result = await req.context.models.products.findAll();\r\n        return res.send(result);\r\n    } catch (error) {\r\n        return res.status(404).send(\"no data found\");\r\n    }\r\n}\r\nconst createProduct = async (req, res) => {\r\n    const {files, fields} = req.fileAttrb;\r\n\r\n    try {\r\n        const result = await req.context.models.products.create({\r\n            prod_name: fields[0].value,\r\n            prod_price: fields[1].value,\r\n            prod_stock: parseInt(fields[2].value),\r\n            prod_desc: fields[3].value,\r\n            prod_cate_id: parseInt(fields[4].value),\r\n            prod_rating: parseInt(fields[5].value),\r\n            prod_views: parseInt(fields[6].value),\r\n            prod_user_id: parseInt(fields[7].value),\r\n            prod_url_image: files[0].file.newFilename\r\n        });\r\n        return res.send(result);\r\n    } catch (error) {\r\n        return res.status(404).json({\r\n            message: error.message,\r\n        })\r\n    }\r\n}\r\n\r\nconst updateProduct = async (req, res) => {\r\n    const {files, fields} = req.fileAttrb;\r\n    try {\r\n        const result = await req.context.models.products.update({\r\n            prod_name: fields[0].value,\r\n            prod_price: fields[1].value,\r\n            prod_stock: parseInt(fields[2].value),\r\n            prod_desc: fields[3].value,\r\n            prod_cate_id: parseInt(fields[4].value),\r\n            prod_rating: parseInt(fields[5].value),\r\n            prod_views: parseInt(fields[6].value),\r\n            prod_user_id: parseInt(fields[7].value),\r\n            prod_url_image: files[0].file.newFilename\r\n        },{\r\n            returning : true, where:{prod_id:req.params.id}\r\n        })\r\n        return res.send(result)\r\n    } catch (error) {\r\n        return res.status(404).send(\"no data update\")\r\n    }\r\n}\r\n\r\n\r\n        \r\n    \r\n\r\n\r\nexport default {\r\n    findAll,\r\n    createProduct,\r\n    updateProduct,\r\n}"],"file":"productController.js"}